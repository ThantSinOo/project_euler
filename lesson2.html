<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Even Fibonacci Number</title>
</head>
<body>
	<h1>Even Fibonacci Number</h1>
	<h3>
		

Each new term in the Fibonacci sequence is generated by adding the previous two terms. By starting with 1 and 2, the first 10 terms will be:

1, 2, 3, 5, 8, 13, 21, 34, 55, 89, ...

By considering the terms in the Fibonacci sequence whose values do not exceed four million, find the sum of the even-valued terms.

	</h3>
	<script type="text/javascript">

		const SQ5 = 5 ** 0.5;
		const PHI = (1 + SQ5) / 2;

		const even_fibonacci = (limit)=>{
			if(limit < 1)throw new Error('Fibonacci sequence limit can\'t be less than 1');


			// These two lines calculate the highest index of the even-valued Fibonacci number that is less than or equal to the limit argument. The Math.log function is used to calculate the natural logarithm of a number. 
			const highest_index = Math.floor(Math.log(limit * SQ5) / Math.log(PHI));
			console.log("Highest Index Number",highest_index);



			const n = Math.floor(highest_index /3);
			console.log("n",n);


			// This line calculates the value of the even-valued Fibonacci number at the nth index using the formula for the nth Fibonacci number. The result is rounded down to the nearest integer using the Math.floor function, and then returned as the output of the function.
			return Math.floor(((PHI **(3 * n +3) - 1) / (PHI ** 3 - 1) - ((1 - PHI) ** (3 * n + 3) - 1) / ((1 - PHI) ** 3 - 1)) / SQ5);
		}

		console.log(SQ5);
		even_fibonacci(332);
	</script>
</body>
</html>